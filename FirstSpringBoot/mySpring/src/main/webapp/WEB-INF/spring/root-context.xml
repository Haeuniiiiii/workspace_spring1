<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd">
	
	<!-- Root Context: ì „ì²´ ì›¹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê³µìœ ë˜ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ì •ì˜ -->
	
	<!-- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì„ ìœ„í•œ DataSource ì„¤ì • -->
	<bean id="dataSource"
	      class="org.apache.commons.dbcp2.BasicDataSource" 
		  destroy-method="close">
		  
		  <!-- JDBC ë“œë¼ì´ë²„ í´ëž˜ìŠ¤ ì§€ì • (Oracle ì‚¬ìš©) -->
		  <property name="driverClassName" value="oracle.jdbc.driver.OracleDriver"/>
		  
		  <!-- DB ì ‘ì† URL -->
		  <property name="url" value="jdbc:oracle:thin:@127.0.0.1:1521:xe"/>
		  
		  <!-- DB ì‚¬ìš©ìžëª… -->
		  <property name="username" value="C##HONG"/>
		  
		  <!-- DB ë¹„ë°€ë²ˆí˜¸ -->
		  <property name="password" value="java"/>
	</bean>
	
	<!-- MyBatisì˜ SqlSessionFactory ì„¤ì • -->
	<bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean">
		<!-- ì•žì„œ ì •ì˜í•œ DataSourceë¥¼ ì£¼ìž… -->
	 	<property name="dataSource" ref="dataSource"/>
		
		<!-- ë§¤í¼ XML íŒŒì¼ ê²½ë¡œ ì§€ì • (SQLì´ ì •ì˜ëœ íŒŒì¼ë“¤) -->
	 	<property name="mapperLocations" value="classpath:/sqlmap/**/*_SQL.xml"/>
		<!-- resources íŒŒì¼ë¡œ ë“¤ì–´ê°€ì„œ ë§Œë“¤ì–´ì•¼í•¨ 
	 	src/
		  main/
		    java/
		      com/example/Hello.java
		    resources/
		      sqlmap/
		        user_SQL.xml
		Mavenì€ ë¹Œë“œì‹œ user_SQL.xmlì„ target/classes/sqlmap/user_SQL.xmlë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.
		
		ê·¸ë¦¬ê³  ì´ ê²½ë¡œëŠ” classpathì— ìžë™ í¬í•¨ë˜ê¸° ë•Œë¬¸ì—
		classpath:/sqlmap/**/*_SQL.xml ìœ¼ë¡œ ì½ì„ ìˆ˜ ìžˆëŠ” ê²ƒì´ì£ !
		
		ðŸš« ì™œ src/main/javaì— ë„£ìœ¼ë©´ ì•ˆ ë˜ë‚˜ìš”?
		src/main/javaëŠ” ì˜¤ì§ Java ì†ŒìŠ¤ ì½”ë“œë§Œ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.
		
		ì—¬ê¸°ì— XML íŒŒì¼ì„ ë„£ìœ¼ë©´:
		
		IDEì—ì„œ ì˜¤ë¥˜ë‚˜ ê²½ê³ ê°€ ë‚  ìˆ˜ ìžˆìŒ
		
		ë¹Œë“œì‹œ ì •ìƒì ìœ¼ë¡œ classpathì— í¬í•¨ë˜ì§€ ì•Šì„ ìˆ˜ ìžˆìŒ
		
		êµ¬ì¡°ì ìœ¼ë¡œ í˜¼ëž€ì„ ì´ˆëž˜í•¨ (í‘œì¤€ ê´€ë¡€ ìœ„ë°˜)
	 	-->
		
		<!-- MyBatis ì„¤ì • íŒŒì¼ ìœ„ì¹˜ ì§€ì • (alias ë“± ì„¤ì • í¬í•¨) -->
	 	<property name="configLocation" value="/WEB-INF/mybatisAlias/mybatisAlias.xml"/>
	</bean>
	
	<!-- SqlSessionì„ ê°„íŽ¸í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ Template ì„¤ì • -->
	<bean id="sqlSessionTemplate" class="org.mybatis.spring.SqlSessionTemplate">
		<!-- ìƒì„±ìž ì¸ìžë¡œ SqlSessionFactoryë¥¼ ì£¼ìž… -->
		<constructor-arg name="sqlSessionFactory" index="0" ref="sqlSessionFactory"/>
	</bean>	
		
	<!-- Mapper ì¸í„°íŽ˜ì´ìŠ¤ë¥¼ ìžë™ìœ¼ë¡œ ìŠ¤ìº”í•˜ê³  êµ¬í˜„ì²´ë¥¼ ìƒì„± -->
	<bean class="org.mybatis.spring.mapper.MapperScannerConfigurer">
		<!-- Mapper ì¸í„°íŽ˜ì´ìŠ¤ê°€ ìœ„ì¹˜í•œ base íŒ¨í‚¤ì§€ ì§€ì • -->
		<property name="basePackage" value="kr.or.ddit.mapper"/>
	</bean>
	
</beans>
